// Code generated by protoc-gen-bff. DO NOT EDIT.
// Version: 1.0.0

package admin

import (
	"context"

	"github.com/gin-gonic/gin"
)

// IAdminHandler BFF 接口
type IAdminHandler interface {

	// 创建管理员接口
	Create(ctx context.Context, in *AdminCreateRequest) (*AdminCreateResponse, error)
	// 管理员列表接口
	List(ctx context.Context, in *AdminListRequest) (*AdminListResponse, error)
	// 更新管理员状态接口
	UpdateStatus(ctx context.Context, in *AdminUpdateStatusRequest) (*AdminUpdateStatusResponse, error)
	// 重置管理员密码接口
	ResetPassword(ctx context.Context, in *AdminResetPasswordRequest) (*AdminResetPasswordResponse, error)
}

// RegisterAdminHandler 注册服务路由处理器
func RegisterAdminHandler(r gin.IRoutes, interceptor interface {
	ShouldProto(c *gin.Context, in any) error
	Do(fn func(ctx *gin.Context) (any, error)) func(c *gin.Context)
}, handler IAdminHandler) {
	if interceptor == nil {
		panic("interceptor is nil")
	}

	if handler == nil {
		panic("handler is nil")
	}

	r.POST("/backend/admin/create", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AdminCreateRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Create(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/admin/list", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AdminListRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.List(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/admin/update-status", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AdminUpdateStatusRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.UpdateStatus(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/admin/reset-password", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AdminResetPasswordRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.ResetPassword(ctx.Request.Context(), &in)
	}))

}
