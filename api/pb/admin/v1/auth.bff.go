// Code generated by protoc-gen-bff. DO NOT EDIT.
// Version: 1.0.0

package admin

import (
	"context"

	"github.com/gin-gonic/gin"
)

// IAuthHandler BFF 接口
type IAuthHandler interface {

	// 管理员登录接口
	Login(ctx context.Context, in *AuthLoginRequest) (*AuthLoginResponse, error)
	// 获取图形验证码接口
	Captcha(ctx context.Context, in *AuthCaptchaRequest) (*AuthCaptchaResponse, error)
	// 管理员注销登录接口
	Logout(ctx context.Context, in *AuthLogoutRequest) (*AuthLogoutResponse, error)
	// 管理员刷新Token接口
	Refresh(ctx context.Context, in *AuthRefreshRequest) (*AuthRefreshResponse, error)
	// 获取管理员详情接口
	Detail(ctx context.Context, in *AuthDetailRequest) (*AuthDetailResponse, error)
	// 更新管理员密码接口
	UpdatePassword(ctx context.Context, in *AuthUpdatePasswordRequest) (*AuthUpdatePasswordResponse, error)
	// 更新管理员详情接口
	UpdateDetail(ctx context.Context, in *AuthUpdateDetailRequest) (*AuthUpdateDetailResponse, error)

	Menus(ctx context.Context, in *AuthMenusRequest) (*AuthMenusResponse, error)
}

// RegisterAuthHandler 注册服务路由处理器
func RegisterAuthHandler(r gin.IRoutes, interceptor interface {
	ShouldProto(c *gin.Context, in any) error
	Do(fn func(ctx *gin.Context) (any, error)) func(c *gin.Context)
}, handler IAuthHandler) {
	if interceptor == nil {
		panic("interceptor is nil")
	}

	if handler == nil {
		panic("handler is nil")
	}

	r.POST("/backend/auth/login", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthLoginRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Login(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/auth/captcha", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthCaptchaRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Captcha(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/auth/logout", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthLogoutRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Logout(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/auth/refresh", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthRefreshRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Refresh(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/auth/detail", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthDetailRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Detail(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/auth/update-password", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthUpdatePasswordRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.UpdatePassword(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/auth/update-detail", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthUpdateDetailRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.UpdateDetail(ctx.Request.Context(), &in)
	}))

	r.POST("/backend/auth/menus", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in AuthMenusRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Menus(ctx.Request.Context(), &in)
	}))

}
