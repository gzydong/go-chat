// Code generated by protoc-gen-bff. DO NOT EDIT.
// Version: 1.0.0

package web

import (
	"context"

	"github.com/gin-gonic/gin"
)

// IUserHandler BFF 接口
type IUserHandler interface {

	// 获取登录用户详情接口
	Detail(ctx context.Context, in *UserDetailRequest) (*UserDetailResponse, error)
	// 获取用户配置信息接口
	Setting(ctx context.Context, in *UserSettingRequest) (*UserSettingResponse, error)
	// 更新用户信息接口
	DetailUpdate(ctx context.Context, in *UserDetailUpdateRequest) (*UserDetailUpdateResponse, error)
	// 更新用户密码接口
	PasswordUpdate(ctx context.Context, in *UserPasswordUpdateRequest) (*UserPasswordUpdateResponse, error)
	// 更新用户手机号接口
	MobileUpdate(ctx context.Context, in *UserMobileUpdateRequest) (*UserMobileUpdateResponse, error)
	// 更新用户邮箱接口
	EmailUpdate(ctx context.Context, in *UserEmailUpdateRequest) (*UserEmailUpdateResponse, error)
}

// RegisterUserHandler 注册服务路由处理器
func RegisterUserHandler(r gin.IRoutes, interceptor interface {
	ShouldProto(c *gin.Context, in any) error
	Do(fn func(ctx *gin.Context) (any, error)) func(c *gin.Context)
}, handler IUserHandler) {
	if interceptor == nil {
		panic("interceptor is nil")
	}

	if handler == nil {
		panic("handler is nil")
	}

	r.POST("/api/v1/user/detail", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in UserDetailRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Detail(ctx.Request.Context(), &in)
	}))

	r.POST("/api/v1/user/setting", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in UserSettingRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.Setting(ctx.Request.Context(), &in)
	}))

	r.POST("/api/v1/user/detail-update", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in UserDetailUpdateRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.DetailUpdate(ctx.Request.Context(), &in)
	}))

	r.POST("/api/v1/user/password-update", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in UserPasswordUpdateRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.PasswordUpdate(ctx.Request.Context(), &in)
	}))

	r.POST("/api/v1/user/mobile-update", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in UserMobileUpdateRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.MobileUpdate(ctx.Request.Context(), &in)
	}))

	r.POST("/api/v1/user/email-update", interceptor.Do(func(ctx *gin.Context) (any, error) {
		var in UserEmailUpdateRequest
		if err := interceptor.ShouldProto(ctx, &in); err != nil {
			return nil, err
		}

		return handler.EmailUpdate(ctx.Request.Context(), &in)
	}))

}
